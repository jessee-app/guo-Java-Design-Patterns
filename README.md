# java 23种设计模式----简单工厂模式
PS：[推荐使用GitHub插件查看代码](https://insight.io/)。代码、文档来自[北风网](http://www.ibeifeng.com/)，仅供自己学习使用。感谢主讲老师：**历风行** <br>
 推介一本书《[Java Web设计模式之道](https://item.jd.com/11181900.html)》蒋海昌 著<br>


## 1、什么是简单工厂模式
简单工厂模式属于类的创建型模式,又叫做静态工厂方法模式。通过专门定义一个类来负责创建其他类的实例，被创建的实例通常都具有共同的父类。

## 2、模式中包含的角色及其职责
- 1.工厂（Creator）角色简单工厂模式的核心，它负责实现创建所有实例的内部逻辑。工厂类可以被外界直接调用，创建所需的产品对象。
- 2.抽象（Product）角色简单工厂模式所创建的所有对象的父类，它负责描述所有实例所共有的公共接口。
- 3.具体产品（Concrete Product）角色简单工厂模式所创建的具体实例对象

## 3、简单工厂模式的优缺点
在这个模式中，工厂类是整个模式的关键所在。它包含必要的判断
逻辑，能够根据外界给定的信息，决定究竟应该创建哪个具体类的
对象。用户在使用时可以直接根据工厂类去创建所需的实例，而无
需了解这些对象是如何创建以及如何组织的。有利于整个软件体系
结构的优化。<br>
不难发现，简单工厂模式的缺点也正体现在其工厂类上，由于工厂类集中
了所有实例的创建逻辑，所以“高内聚”方面做的并不好。另外，当系统中的
具体产品类不断增多时，可能会出现要求工厂类也要做相应的修改，扩展
性并不很好。
# java 23种设计模式----工厂方法模式
## 1、什么是工厂方法模式
工厂方法模式同样属于类的创建型模式又被称为多态工厂模式 。工厂方法模式的意义是定义一个创建产品对象的工厂接口，将实际创建工作推迟到子类当中。核心工厂类不再负责产品的创建，这样核心类成为一个抽象工厂角色，仅负责具体工厂子类必须实现的接口，
这样进一步抽象化的好处是使得工厂方法模式可以使系统在不修改具体工厂角色的情况下引进新的产品。

## 2、模式中包含的角色及其职责
- 1.抽象工厂（Creator）角色工厂方法模式的核心，任何工厂类都必须实现这个接口。

- 2.具体工厂（ Concrete  Creator）角色具体工厂类是抽象工厂的一个实现，负责实例化产品对象。

- 3.抽象（Product）角色工厂方法模式所创建的所有对象的父类，它负责描述所有实例所共有的公共接口。

- 4.具体产品（Concrete Product）角色工厂方法模式所创建的具体实例对象

## 3、工厂方法模式和简单工厂模式比较
工厂方法模式与简单工厂模式在结构上的不同不是很明显。工厂方
法类的核心是一个抽象工厂类，而简单工厂模式把核心放在一个具
体类上。 <br>
工厂方法模式之所以有一个别名叫多态性工厂模式是因为具体工
厂类都有共同的接口，或者有共同的抽象父类。<br>
当系统扩展需要添加新的产品对象时，仅仅需要添加一个具体对象以及一个具体工厂对象，原有工厂对象不需要进行任何修改，也不需要修改客户端，很好的符合了“开放－封闭”原则。而简单工厂模式在添加新产品对象后不得不修改工厂方法，扩展性不好。<br>
工厂方法模式退化后可以演变成简单工厂模式。
# java 23种设计模式----抽象工厂模式
## 1、什么是抽象工厂模式
抽象工厂模式是所有形态的工厂模式中最为抽象和最其一般性的。抽象工厂模式可以向客户端提供一个接口，使得客户端在不必指定产品的具体类型的情况下，能够创建多个产品族的产品对象。
## 2、模式中包含的角色及其职责
- 1.抽象工厂（Creator）角色抽象工厂模式的核心，包含对多个产品结构的声明，任何工厂类都必须实现这个接口。
- 2.具体工厂（ Concrete  Creator）角色具体工厂类是抽象工厂的一个实现，负责实例化某个产品族中的产品对象。
- 3.抽象（Product）角色抽象模式所创建的所有对象的父类，它负责描述所有实例所共有的公共接口。
- 4.具体产品（Concrete Product）角色抽象模式所创建的具体实例对象<br>
总结：抽象工厂中方法对应产品结构，具体工厂对应产品族。
# java 23种设计模式----单例模式
## 1、什么是单例模式

单例模式是一种对象创建型模式，使用单例模式，可以保证为一个类只生成唯一的实例对象。也就是说，在整个程序空间中，该类只存在一个实例对象。<br>
其实，GoF对单例模式的定义是：保证一个类、只有一个实例存在，同时提供能对该实例加以访问的全局访问方法。
## 2、为什么要使用单例模式呢？

在应用系统开发中，我们常常有以下需求：
- 在多个线程之间，比如servlet环境，共享同一个资源或者操作同一个对象
- 在整个程序空间使用全局变量，共享资源
- 大规模系统中，为了性能的考虑，需要节省对象的创建时间等等。<br>

因为Singleton模式可以保证为一个类只生成唯一的实例
对象，所以这些情况，Singleton模式就派上用场了。
## 3、单例模式实现
- 1.饿汉式。
```
public static final Person person = new Person();
```
- 2.懒汉式。
```
//提供一个全局的静态方法，使用同步方法
public static synchronized Person3 getPerson() {
		if(person == null) {
			person = new Person3();
		}
		return person;
	}
```
- 3.双重检查。
```
//提供一个全局的静态方法
public static Person4 getPerson() {
		if(person == null) {
			synchronized (Person4.class) {
				if(person == null) {
					person = new Person4();
				}
			}

		}
		return person;
	}
```
